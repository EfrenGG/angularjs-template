<div
  ng-if="$ctrl.metadata.hasLabel && $ctrl.show"
  ng-switch="$ctrl.metadata.cveTipoComponente"
  ng-class="[$ctrl.metadata.sizeClass, {'has-error' : $ctrl.metadata.hasValidation && $ctrl.formParent[$ctrl.metadata.nomCampo].$invalid}]"
  class="form-group form-group-sm"
>
  <label class="control-label" for="{{ $ctrl.metadata.elementId }}">
    {{ $ctrl.metadata.labelText }}
  </label>
  <help-icon
    ng-if="$ctrl.metadata.helpText"
    help-text="$ctrl.metadata.helpText"
  >
  </help-icon>
  <!-- Inputs -->
  <number-field
    ng-switch-when="NUMERO"
    metadata="$ctrl.metadata"
    model="$ctrl.model"
    on-change="$ctrl.updateModel($event)"
  >
  </number-field>

  <area-field
    ng-switch-when="AREA"
    metadata="$ctrl.metadata"
    model="$ctrl.model"
    on-change="$ctrl.updateModel($event)"
  >
  </area-field>

  <datepicker-field
    ng-switch-when="FECHA"
    metadata="$ctrl.metadata"
    model="$ctrl.model"
    on-change="$ctrl.updateModel($event)"
  >
  </datepicker-field>

  <lookup-field
    ng-switch-when="LOOKUP"
    metadata="$ctrl.metadata"
    model="$ctrl.model"
    on-change="$ctrl.updateModel($event)"
  >
  </lookup-field>

  <switch-field
    ng-switch-when="SWITCH"
    metadata="$ctrl.metadata"
    model="$ctrl.model"
    on-change="$ctrl.updateModel($event)"
  >
  </switch-field>

  <select-field
    ng-switch-when="COMBO"
    metadata="$ctrl.metadata"
    model="$ctrl.model"
    on-change="$ctrl.updateModel($event)"
  >
  </select-field>

  <typeahead-field
    ng-switch-when="TYPEAHEAD"
    metadata="$ctrl.metadata"
    model="$ctrl.model"
    on-change="$ctrl.updateModel($event)"
  >
  </typeahead-field>

  <text-field
    ng-switch-default
    metadata="$ctrl.metadata"
    model="$ctrl.model"
    on-change="$ctrl.updateModel($event)"
  >
  </text-field>

  <validation-message
    ng-show="$ctrl.metadata.hasValidation && $ctrl.isFocused"
    form-model="$ctrl.formParent[$ctrl.metadata.nomCampo]"
    translation-data="$ctrl.metadata"
  >
  </validation-message>
</div>

<relationship-field
  ng-if="$ctrl.metadata.cveTipoComponente === 'RELACION'"
  parent-model="$ctrl.parentModel"
  metadata="$ctrl.metadata"
  model="$ctrl.model"
  on-change="$ctrl.updateModel($event)"
>
</relationship-field>

<form-section
  ng-if="$ctrl.metadata.cveTipoComponente === 'SECCION'"
  title="$ctrl.metadata.labelText"
  subtitle="$ctrl.metadata.helpText"
>
</form-section>
